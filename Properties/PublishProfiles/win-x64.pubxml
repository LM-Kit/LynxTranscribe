<?xml version="1.0" encoding="utf-8"?>
<Project>
  <PropertyGroup>
    <PublishDir>bin\publish\win-x64</PublishDir>
    <Configuration>Release</Configuration>
    <TargetFramework>net10.0-windows10.0.19041.0</TargetFramework>
    <RuntimeIdentifier>win-x64</RuntimeIdentifier>
    <SelfContained>true</SelfContained>
    <WindowsPackageType>None</WindowsPackageType>
    <WindowsAppSDKSelfContained>true</WindowsAppSDKSelfContained>
    <DebugSymbols>false</DebugSymbols>
    <DebugType>none</DebugType>
    <SatelliteResourceLanguages>en-us;fr</SatelliteResourceLanguages>
  </PropertyGroup>
  <Target Name="CleanupPublishOutput" AfterTargets="Publish">
    <!-- Replace MAUI's low-res icon with our high-res version -->
    <Copy SourceFiles="$(ProjectDir)Platforms\Windows\app.ico" DestinationFiles="$(PublishDir)appicon.ico" OverwriteReadOnlyFiles="true" />
    <!-- Cleanup unnecessary files -->
    <Exec Command="for /d %%i in (&quot;$(PublishDir)*-*&quot;) do if /i not &quot;%%~nxi&quot;==&quot;en-us&quot; rd /s /q &quot;%%i&quot;" IgnoreExitCode="true" />
    <Exec Command="del /q &quot;$(PublishDir)*.pdb&quot; 2>nul" IgnoreExitCode="true" />
    <Exec Command="del /q &quot;$(PublishDir)*.xml&quot; 2>nul" IgnoreExitCode="true" />
    <Exec Command="del /q &quot;$(PublishDir)AboutAssets.txt&quot; 2>nul" IgnoreExitCode="true" />
  </Target>
</Project>
